# Pokémon Infinite Fusion: Multiplayer Extension

# Note:
- **Due to the hard set up of the project, a GUI automating & containing everything is in the works, please be patient.**

This is a hard coded plugin developed for the community made game "Pokémon Infinite Fusion" that adds a way to connect multiple clients to a server and play the game with your friends!
The plugin is currently only developed by me (Noam Rothschild), a 14yo kid with a passion for development, so nothing is perfect, and this is also my first project using the programming language "Ruby" and first experience using GitHub, so please notify me if any problems occur and tell me I suck at coding :) .

[Redit post](https://www.reddit.com/r/PokemonInfiniteFusion/comments/1cujg4n/multiplayer_plugin_to_pokémon_infinite_fusion/)

## Table of contents
- [**Features**](#features)
- [**How to install**](#how-to-install)
- [How do I play?](#how-do-I-play)
- [Version support](#version-support)
- [FAQ](#faq)
- [Known bugs](#known-bugs)

## Features

- Max of 2 players remotely playing.
  
![PIF-Multiplayer](https://github.com/NoamRothschild/infinitefusion-multiplayer/assets/98104540/195f2331-e17a-4748-8ff7-692f98ddb878)

- Gifting system from player 2 player.

![GiftingSystem](https://github.com/NoamRothschild/infinitefusion-multiplayer/assets/98104540/0b43a6fb-6291-4347-b8ea-ab260f9a3324)

- Convert your team to Pokéathalon!

![ToPokéathalon](https://github.com/NoamRothschild/infinitefusion-multiplayer/assets/98104540/19d4314c-c7ab-4788-8617-db8894b2b3b2)

## Version support

As of now, PIF-Multiplayer supports Version 6.0 of the game,
and only compatitble with Windows.


## FAQ

Can I use this without a redis database?
- No, a redis database is required
What do I need to do to get started?
- Follow the instructions above
I live far from my friend, will this affect the performance?
- Redis is the fastest performing database in the world!

## Known bugs

Before you report an error/bug please make sure to see if the bug was already found.

- Player rotation not working
- Other player appears and moves on other maps - sadly this is one of those things that cannot be fixed using RPG-Maker XP (2009) and would require a full recreation of the game.
- Gifting a non-Fusion crashes the game
- If found more please report.

## How to install

### Adding all sprites

- This step is necessary only if you want to play on pre-loaded, you can skip it if you want.

Lets start it easy by adding all of PIF's sprites to our game:

- Head over to the autogenerated [sprites page](https://gitlab.com/pokemoninfinitefusion/autogen-fusion-sprites) and download as zip (The blue code button) and drag or ctrl+x the contents of 'Battlers' into this_projects_folder/Graphics/Battlers

- Head over to the custom [sprites page](https://gitlab.com/pokemoninfinitefusion/customsprites) and download as zip (The blue code button) and drag or ctrl+x the contents of 'CustomBattlers' into this_projects_folder/Graphics/CustomBattlers, and then drag all folders inside 'Other' to this_projects_folder/Graphics/

### Installing Dependencies
- Make sure you have Python 3.10 or above installed
Download links can be found at [python.org](https://www.python.org/downloads/)
or in the [Microsft Store](https://apps.microsoft.com/search?query=python)

- After done installing, make sure to open a command prompt (Press Windows key and search for "Command prompt") and run the following command:
```
pip install redis
```
If you get an error like 'pip' is not recognized you failed at installing python and need to try again / look up an answer.

### Setting up a redis database

Only 1 person needs to do this process and sign up, the other person will just have to take the database's information at the end.

- head over to [redis.io](https://redis.io/try-free/) and sign up.
- You will automatically be redirected to [here](https://app.redislabs.com/#/new-customer/free-db), where you will create your database. select the server closest to you. the closer the lower the ping / delay will be.
- After your database went active, You can go ahead and press on 'connect' under Endpoint in the [redislabs databases list](https://app.redislabs.com/#/databases)
- Expand 'Redis Client' (The option at the bottom) and under 'Select your client' press 'Python'.
- You will see some information, but the only things needed are the host, port, and password.
Example of an output:
```
import redis

r = redis.Redis(
  host='redis-[DATA].redis-cloud.com',
  port=[number],
  password='*******')
```
- Make sure to take and save everything inside the ='' in host, port & password (for password make sure to click on the "Show" icon to see the full password)

- Also send your friend all of this stuff you saved, this is how the 2 players will send information to each other.

- We are _Almost done!_

### Giving the game the data we saved Before

- head into your game directory, there are a lot of things here, but we are interested in the 'multiplayer' folder, after you enter this folder, go into 'redis', inside it we will be able to find 'redis-db.py' & 'redis-db.bat'.

Open up 'redis-db.py' with notepad or a text editor (make sure its the .py file or the file with the [python icon](https://i.imgur.com/TtikvYI.png))

- enter the data to inside host, port and password as follows:
```
################################# USER GUIDE #################################
#
# After creating the database in redis, click on 'connect' and copy needed crodentials here:

host= 'redis-[DATA].redis-cloud.com'
port= [number]
password = '*******'

# After you are done you can go ahead and save & close this file
#
################################# USER GUIDE #################################
```
- Make sure your friend did the same as you and you both entered **exactly** the same details.
- of course make sure to actually enter the password and not asterisks (*)
- Also make sure that the host and password start and end with a apostrophe (')
- Open up **redis-db.bat** (the other file), if it says:
```
Sucessfully started up listner!
Entering Listner...
```
- We are done, if not please try to follow the last 2 stages again, and if it still happens create a new issue in this repo.

# How do I play?

Please proceed to here **only** after finishing to [set up the game](#how-to-install)

- After each player loads up the game, they need to go into the in-game settings and set DEBUG to true, and set PLAYER NUMBER to 1 or 2 (Each player needs to select the other number, overlapping numbers will cause a misbehavior of the code and possibly a crash)
- After you setted up the player number in-game, open up redis-db.**bat** (game-folder/multiplayer/redis-db.bat) **The console windows MUST be open during gameplay, and can only be closed after the gaming session has ended.**

- Each time you reopen the game, even after possibly a crash, you need to follow all of those steps, including entering the settings even if you changed nothing.

# That's it! 
hope you will enjoy my little project :)
- if any big attraction will come I will possibly come again and release another beta version, but this is all for now.
